{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow">
            <div class="card-header py-3 bg-info text-white">
                <h6 class="m-0 fw-bold"><i class="fas fa-edit me-2"></i>Edit Data Kelas</h6>
            </div>
            <div class="card-body">
                <form method="POST">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                    <div class="mb-3">
                        <label>Nama Kelas</label>
                        <input type="text" name="name" class="form-control" value="{{ class_room.name }}" required>
                    </div>
                    
                    <div class="mb-3">
                        <label>Tingkat (Grade)</label>
                        <select name="grade_level" class="form-select">
                            {% for level in ['1','2','3','10','11','12'] %}
                                <option value="{{ level }}" {% if class_room.grade_level == level %}selected{% endif %}>
                                    {{ level }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>Program Kelas</label>
                        <select name="program_type" class="form-select">
                            <option value="">-- Pilih Program --</option>
                            <option value="SEKOLAH_FULLDAY" {% if class_room.program_type and class_room.program_type.name == 'SEKOLAH_FULLDAY' %}selected{% endif %}>SBQ (Sekolah Bina Qur'an)</option>
                            <option value="RQDF_SORE" {% if class_room.program_type and class_room.program_type.name == 'RQDF_SORE' %}selected{% endif %}>Reguler (RQDF Sore)</option>
                            <option value="TAKHOSUS_TAHFIDZ" {% if class_room.program_type and class_room.program_type.name == 'TAKHOSUS_TAHFIDZ' %}selected{% endif %}>Takhosus Tahfidz</option>
                            <option value="MAJLIS_TALIM" {% if class_room.program_type and class_room.program_type.name == 'MAJLIS_TALIM' %}selected{% endif %}>Majlis Ta'lim</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label>Jenjang</label>
                        <select name="education_level" class="form-select">
                            <option value="">-- Pilih Jenjang --</option>
                            <option value="SD" {% if class_room.education_level and class_room.education_level.name == 'SD' %}selected{% endif %}>SD</option>
                            <option value="SMP" {% if class_room.education_level and class_room.education_level.name == 'SMP' %}selected{% endif %}>SMP</option>
                            <option value="SMA" {% if class_room.education_level and class_room.education_level.name == 'SMA' %}selected{% endif %}>SMA</option>
                            <option value="NON_FORMAL" {% if class_room.education_level and class_room.education_level.name == 'NON_FORMAL' %}selected{% endif %}>Non Formal</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label>Wali Kelas</label>
                        <select name="homeroom_teacher_id" class="form-select">
                            <option value="">-- Kosongkan --</option>
                            {% for t in teachers %}
                                <option value="{{ t.id }}" {% if class_room.homeroom_teacher_id == t.id %}selected{% endif %}>
                                    {{ t.full_name }} ({{ t.specialty }})
                                </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="{{ url_for('admin.manage_classes') }}" class="btn btn-secondary">Batal</a>
                        <button type="submit" class="btn btn-info text-white fw-bold">Simpan Perubahan</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
